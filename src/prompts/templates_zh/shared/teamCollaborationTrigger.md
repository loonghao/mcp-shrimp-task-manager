# 👥 团队协作自动化触发器

**当检测到团队协作需求时，自动执行以下PM工作流：**

## 🎯 PM工作流自动启动

### 第一阶段：任务分析阶段
**触发条件**: 用户提到"团队"、"协作"、"分工"、"PM"、"项目管理"等关键词

**必须执行的工具调用**:
1. **`analyze_team_collaboration`** - 分析当前团队协作状况
   - 评估团队表现和协作效果
   - 识别知识缺口和改进机会
   - 分析角色贡献度

2. **`query_task_memory`** - 查询相关团队协作经验
   - 搜索类似项目的协作模式
   - 获取最佳实践和经验教训
   - 识别潜在风险和解决方案

### 第二阶段：角色分配阶段
**基于任务类型自动识别所需角色**:

**必须执行的工具调用**:
1. **`generate_team_collaboration_tasks`** - 生成角色专业化任务
   - 基于PRD内容生成团队任务
   - 自动分配给合适的角色
   - 建立任务依赖关系

2. **`share_team_knowledge`** - 分享相关团队知识
   - 记录协作模式和经验
   - 分享角色间的知识传递
   - 建立团队学习记录

### 第三阶段：协作启动阶段
**启动团队协作流程**:

**必须执行的工具调用**:
1. **`insert_task_dynamically`** - 插入协作任务
   - 动态插入跨角色协作任务
   - 调整任务优先级和依赖
   - 确保协作流程顺畅

2. **`adjust_tasks_from_context`** - 优化任务安排
   - 基于团队上下文调整任务
   - 优化资源分配和时间安排
   - 生成协作建议和风险预警

## 🧠 角色智能识别规则

### 前端相关需求
**关键词**: "界面"、"UI"、"前端"、"页面"、"交互"、"用户体验"
**自动分配角色**:
- `frontend-developer` (前端开发) - 优先级1
- `ui-designer` (UI设计师) - 优先级2  
- `ux-designer` (UX设计师) - 优先级2

### 后端相关需求
**关键词**: "API"、"数据库"、"服务器"、"后端"、"接口"、"业务逻辑"
**自动分配角色**:
- `backend-developer` (后端开发) - 优先级1
- `devops-engineer` (DevOps工程师) - 优先级3
- `data-engineer` (数据工程师) - 优先级4

### 测试相关需求
**关键词**: "测试"、"质量"、"QA"、"验证"、"缺陷"
**自动分配角色**:
- `qa-engineer` (测试工程师) - 优先级1
- `frontend-developer` (前端开发) - 优先级3
- `backend-developer` (后端开发) - 优先级3

### 架构设计需求
**关键词**: "架构"、"设计"、"技术选型"、"系统设计"
**自动分配角色**:
- `tech-lead` (技术负责人) - 优先级1
- `backend-developer` (后端开发) - 优先级2
- `devops-engineer` (DevOps工程师) - 优先级3

### 移动端需求
**关键词**: "移动"、"APP"、"iOS"、"Android"、"移动端"
**自动分配角色**:
- `mobile-developer` (移动端开发) - 优先级1
- `ui-designer` (UI设计师) - 优先级2
- `ux-designer` (UX设计师) - 优先级2

### 全栈需求
**关键词**: "全栈"、"端到端"、"完整功能"、"一体化"
**自动分配角色**:
- `fullstack-developer` (全栈开发) - 优先级1
- `devops-engineer` (DevOps工程师) - 优先级3

## 🎯 差异化设计优势

### 与claude-task-master的核心区别：

1. **统一数据路径**: `$DATA_DIR/projects/$PROJECT_NAME/`
   - 所有团队协作数据统一存储
   - 项目级别的完整隔离
   - 上下文信息持久化保存

2. **智能角色分配**:
   - 基于关键词自动识别角色需求
   - 考虑角色间的协作关系
   - 动态调整角色优先级

3. **PM级别自动化**:
   - 三阶段自动化工作流
   - 智能工具链式调用
   - 实时协作状态跟踪

4. **团队记忆系统**:
   - 项目级别的团队知识管理
   - 协作模式学习和优化
   - 经验传承和知识分享

**这确保了更专业的团队协作管理和更高效的项目执行！**
